:root {
  /* Brand palette (Light 60/20/20) */
  --wf-white:   #fff9f9;
  --wf-ink:     #050517;
  --wf-magenta: #e50c78;
  --wf-orange:  #ef450a;

  /* Derived for UI */
  --wf-line:    #26284b;
  --wf-card:    #0b0b20;
  --wf-shadow:  0 18px 36px rgba(5, 5, 23, 0.24);
  --wf-accent:  var(--wf-magenta);
  --wf-accent-2:var(--wf-orange);
  --wf-grad:    linear-gradient(135deg, var(--wf-magenta), var(--wf-orange));
  --radius-md: 12px;
  --radius-lg: 16px;

  /* Map to existing tokens used across the app */
  --bg:               #050517;
  --surface:          #0b0b20;
  --surface-subtle:   #121231;
  --line:             var(--wf-line);
  --ink-900:          #fff9f9;
  --ink-700:          #d6d8e6;
  --ink-500:          #a7abc5;
  --ink-300:          #7b80a0;
  --accent:           var(--wf-accent);
  --focus-ring:       rgba(229, 12, 120, .25);
}

html { color-scheme: dark; background: var(--bg); }
body { color: var(--ink-900); background: var(--bg); }

/* Hard layout overrides (bypass Tailwind runtime inconsistencies) */
[data-testid="workspace-grid"] {
  display: grid !important;
  grid-template-columns: clamp(320px, 24vw, 420px) minmax(0, 1fr);
  grid-template-rows: 100dvh;
  min-height: 100dvh;
  background: var(--bg);
  color: var(--ink-900);
}

@media (max-width: 1023px) {
  [data-testid="workspace-grid"] {
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr;
  }
}

[data-testid="chat-panel"] {
  grid-column: 1;
  grid-row: 1 / span 1;
  display: flex !important;
  flex-direction: column;
  position: sticky;
  top: 0;
  height: 100dvh;
  min-width: 300px;
  max-width: 380px;
  border-right: 1px solid var(--line);
  background: linear-gradient(180deg, rgba(18, 18, 49, 0.96) 0%, rgba(11, 11, 32, 0.98) 100%);
  overflow: hidden;
  z-index: 20;
}

[data-testid="chat-panel"] > div {
  display: flex !important;
  flex: 1 1 auto;
  flex-direction: column;
  min-height: 0;
  height: 100%;
}

@media (max-width: 1023px) {
  [data-testid="chat-panel"] {
    display: none !important;
    position: static;
    height: auto;
    min-width: 0;
    max-width: none;
    border-right: none;
  }
}

[data-testid="board-container"] {
  grid-column: 2;
  grid-row: 1 / span 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  background: var(--bg);
  overflow: hidden;
  padding: 0 clamp(12px, 1.8vw, 20px) clamp(36px, 9vh, 52px);
  gap: clamp(10px, 1.6vw, 18px);
}

@media (max-width: 1023px) {
  [data-testid="board-container"] {
    grid-column: 1;
    grid-row: 2;
    padding: 0 14px 48px 14px;
    gap: 14px;
  }
}

[data-testid="board-container"] > * {
  flex: 1;
  min-height: 0;
}

[data-testid="board-container"] > .scroll-shell,
[data-testid="board-container"] > div {
  flex: 1;
  min-height: 0;
}
